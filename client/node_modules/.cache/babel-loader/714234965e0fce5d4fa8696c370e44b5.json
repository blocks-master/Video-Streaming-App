{"ast":null,"code":"/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass RangeSeekHandler {\n  constructor(zeroStart) {\n    this._zeroStart = zeroStart || false;\n  }\n\n  getConfig(url, range) {\n    let headers = {};\n\n    if (range.from !== 0 || range.to !== -1) {\n      let param;\n\n      if (range.to !== -1) {\n        param = `bytes=${range.from.toString()}-${range.to.toString()}`;\n      } else {\n        param = `bytes=${range.from.toString()}-`;\n      }\n\n      headers['Range'] = param;\n    } else if (this._zeroStart) {\n      headers['Range'] = 'bytes=0-';\n    }\n\n    return {\n      url: url,\n      headers: headers\n    };\n  }\n\n  removeURLParameters(seekedURL) {\n    return seekedURL;\n  }\n\n}\n\nexport default RangeSeekHandler;","map":{"version":3,"sources":["C:/Users/gethi/Desktop/React Apps/streams/client/node_modules/flv.js/src/io/range-seek-handler.js"],"names":["RangeSeekHandler","constructor","zeroStart","_zeroStart","getConfig","url","range","headers","from","to","param","toString","removeURLParameters","seekedURL"],"mappings":"AAAA;;;;;;;;;;;;;;;;;AAkBA,MAAMA,gBAAN,CAAuB;AAEnBC,EAAAA,WAAW,CAACC,SAAD,EAAY;AACnB,SAAKC,UAAL,GAAkBD,SAAS,IAAI,KAA/B;AACH;;AAEDE,EAAAA,SAAS,CAACC,GAAD,EAAMC,KAAN,EAAa;AAClB,QAAIC,OAAO,GAAG,EAAd;;AAEA,QAAID,KAAK,CAACE,IAAN,KAAe,CAAf,IAAoBF,KAAK,CAACG,EAAN,KAAa,CAAC,CAAtC,EAAyC;AACrC,UAAIC,KAAJ;;AACA,UAAIJ,KAAK,CAACG,EAAN,KAAa,CAAC,CAAlB,EAAqB;AACjBC,QAAAA,KAAK,GAAI,SAAQJ,KAAK,CAACE,IAAN,CAAWG,QAAX,EAAsB,IAAGL,KAAK,CAACG,EAAN,CAASE,QAAT,EAAoB,EAA9D;AACH,OAFD,MAEO;AACHD,QAAAA,KAAK,GAAI,SAAQJ,KAAK,CAACE,IAAN,CAAWG,QAAX,EAAsB,GAAvC;AACH;;AACDJ,MAAAA,OAAO,CAAC,OAAD,CAAP,GAAmBG,KAAnB;AACH,KARD,MAQO,IAAI,KAAKP,UAAT,EAAqB;AACxBI,MAAAA,OAAO,CAAC,OAAD,CAAP,GAAmB,UAAnB;AACH;;AAED,WAAO;AACHF,MAAAA,GAAG,EAAEA,GADF;AAEHE,MAAAA,OAAO,EAAEA;AAFN,KAAP;AAIH;;AAEDK,EAAAA,mBAAmB,CAACC,SAAD,EAAY;AAC3B,WAAOA,SAAP;AACH;;AA7BkB;;AAiCvB,eAAeb,gBAAf","sourcesContent":["/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass RangeSeekHandler {\n\n    constructor(zeroStart) {\n        this._zeroStart = zeroStart || false;\n    }\n\n    getConfig(url, range) {\n        let headers = {};\n\n        if (range.from !== 0 || range.to !== -1) {\n            let param;\n            if (range.to !== -1) {\n                param = `bytes=${range.from.toString()}-${range.to.toString()}`;\n            } else {\n                param = `bytes=${range.from.toString()}-`;\n            }\n            headers['Range'] = param;\n        } else if (this._zeroStart) {\n            headers['Range'] = 'bytes=0-';\n        }\n\n        return {\n            url: url,\n            headers: headers\n        };\n    }\n\n    removeURLParameters(seekedURL) {\n        return seekedURL;\n    }\n\n}\n\nexport default RangeSeekHandler;"]},"metadata":{},"sourceType":"module"}