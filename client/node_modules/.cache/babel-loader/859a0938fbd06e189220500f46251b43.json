{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React, { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'invariant';\nimport createConnectedFieldArray from './ConnectedFieldArray';\nimport prefixName from './util/prefixName';\nimport { withReduxForm } from './ReduxFormContext';\nimport validateComponentProp from './util/validateComponentProp';\n\nvar toArray = function toArray(value) {\n  return Array.isArray(value) ? value : [value];\n};\n\nvar wrapError = function wrapError(fn, key) {\n  return fn && function () {\n    var validators = toArray(fn);\n\n    for (var i = 0; i < validators.length; i++) {\n      var result = validators[i].apply(validators, arguments);\n\n      if (result) {\n        var _ref;\n\n        return _ref = {}, _ref[key] = result, _ref;\n      }\n    }\n  };\n};\n\nexport default function createFieldArray(structure) {\n  var ConnectedFieldArray = createConnectedFieldArray(structure);\n\n  var FieldArray = /*#__PURE__*/function (_Component) {\n    _inheritsLoose(FieldArray, _Component);\n\n    function FieldArray(props) {\n      var _this;\n\n      _this = _Component.call(this, props) || this;\n      _this.ref = React.createRef();\n\n      if (!props._reduxForm) {\n        throw new Error('FieldArray must be inside a component decorated with reduxForm()');\n      }\n\n      return _this;\n    }\n\n    var _proto = FieldArray.prototype;\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this2 = this;\n\n      this.props._reduxForm.register(this.name, 'FieldArray', function () {\n        return wrapError(_this2.props.validate, '_error');\n      }, function () {\n        return wrapError(_this2.props.warn, '_warning');\n      });\n    };\n\n    _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n      var oldName = prefixName(this.props, this.props.name);\n      var newName = prefixName(nextProps, nextProps.name);\n\n      if (oldName !== newName) {\n        // unregister old name\n        this.props._reduxForm.unregister(oldName); // register new name\n\n\n        this.props._reduxForm.register(newName, 'FieldArray');\n      }\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.props._reduxForm.unregister(this.name);\n    };\n\n    _proto.getRenderedComponent = function getRenderedComponent() {\n      invariant(this.props.forwardRef, 'If you want to access getRenderedComponent(), ' + 'you must specify a forwardRef prop to FieldArray');\n      return this.ref && this.ref.current.getRenderedComponent();\n    };\n\n    _proto.render = function render() {\n      return createElement(ConnectedFieldArray, _extends({}, this.props, {\n        name: this.name,\n        ref: this.ref\n      }));\n    };\n\n    _createClass(FieldArray, [{\n      key: \"name\",\n      get: function get() {\n        return prefixName(this.props, this.props.name);\n      }\n    }, {\n      key: \"dirty\",\n      get: function get() {\n        return !this.ref || this.ref.current.dirty;\n      }\n    }, {\n      key: \"pristine\",\n      get: function get() {\n        return !!(this.ref && this.ref.current.pristine);\n      }\n    }, {\n      key: \"value\",\n      get: function get() {\n        return this.ref ? this.ref.current.value : undefined;\n      }\n    }]);\n\n    return FieldArray;\n  }(Component);\n\n  FieldArray.propTypes = {\n    name: PropTypes.string.isRequired,\n    component: validateComponentProp,\n    props: PropTypes.object,\n    validate: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    warn: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    forwardRef: PropTypes.bool,\n    _reduxForm: PropTypes.object\n  };\n  return withReduxForm(FieldArray);\n}","map":{"version":3,"sources":["C:/Users/gethi/Desktop/React Apps/streams/client/node_modules/redux-form/es/createFieldArray.js"],"names":["_extends","_createClass","_inheritsLoose","React","Component","createElement","PropTypes","invariant","createConnectedFieldArray","prefixName","withReduxForm","validateComponentProp","toArray","value","Array","isArray","wrapError","fn","key","validators","i","length","result","apply","arguments","_ref","createFieldArray","structure","ConnectedFieldArray","FieldArray","_Component","props","_this","call","ref","createRef","_reduxForm","Error","_proto","prototype","componentDidMount","_this2","register","name","validate","warn","UNSAFE_componentWillReceiveProps","nextProps","oldName","newName","unregister","componentWillUnmount","getRenderedComponent","forwardRef","current","render","get","dirty","pristine","undefined","propTypes","string","isRequired","component","object","oneOfType","func","arrayOf","bool"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,gCAArB;AACA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,OAAOC,cAAP,MAA2B,sCAA3B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,aAA3B,QAAgD,OAAhD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,yBAAP,MAAsC,uBAAtC;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,SAASC,aAAT,QAA8B,oBAA9B;AACA,OAAOC,qBAAP,MAAkC,8BAAlC;;AAEA,IAAIC,OAAO,GAAG,SAASA,OAAT,CAAiBC,KAAjB,EAAwB;AACpC,SAAOC,KAAK,CAACC,OAAN,CAAcF,KAAd,IAAuBA,KAAvB,GAA+B,CAACA,KAAD,CAAtC;AACD,CAFD;;AAIA,IAAIG,SAAS,GAAG,SAASA,SAAT,CAAmBC,EAAnB,EAAuBC,GAAvB,EAA4B;AAC1C,SAAOD,EAAE,IAAI,YAAY;AACvB,QAAIE,UAAU,GAAGP,OAAO,CAACK,EAAD,CAAxB;;AAEA,SAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,UAAU,CAACE,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AAC1C,UAAIE,MAAM,GAAGH,UAAU,CAACC,CAAD,CAAV,CAAcG,KAAd,CAAoBJ,UAApB,EAAgCK,SAAhC,CAAb;;AAEA,UAAIF,MAAJ,EAAY;AACV,YAAIG,IAAJ;;AAEA,eAAOA,IAAI,GAAG,EAAP,EAAWA,IAAI,CAACP,GAAD,CAAJ,GAAYI,MAAvB,EAA+BG,IAAtC;AACD;AACF;AACF,GAZD;AAaD,CAdD;;AAgBA,eAAe,SAASC,gBAAT,CAA0BC,SAA1B,EAAqC;AAClD,MAAIC,mBAAmB,GAAGpB,yBAAyB,CAACmB,SAAD,CAAnD;;AAEA,MAAIE,UAAU,GACd,aACA,UAAUC,UAAV,EAAsB;AACpB5B,IAAAA,cAAc,CAAC2B,UAAD,EAAaC,UAAb,CAAd;;AAEA,aAASD,UAAT,CAAoBE,KAApB,EAA2B;AACzB,UAAIC,KAAJ;;AAEAA,MAAAA,KAAK,GAAGF,UAAU,CAACG,IAAX,CAAgB,IAAhB,EAAsBF,KAAtB,KAAgC,IAAxC;AACAC,MAAAA,KAAK,CAACE,GAAN,GAAY/B,KAAK,CAACgC,SAAN,EAAZ;;AAEA,UAAI,CAACJ,KAAK,CAACK,UAAX,EAAuB;AACrB,cAAM,IAAIC,KAAJ,CAAU,kEAAV,CAAN;AACD;;AAED,aAAOL,KAAP;AACD;;AAED,QAAIM,MAAM,GAAGT,UAAU,CAACU,SAAxB;;AAEAD,IAAAA,MAAM,CAACE,iBAAP,GAA2B,SAASA,iBAAT,GAA6B;AACtD,UAAIC,MAAM,GAAG,IAAb;;AAEA,WAAKV,KAAL,CAAWK,UAAX,CAAsBM,QAAtB,CAA+B,KAAKC,IAApC,EAA0C,YAA1C,EAAwD,YAAY;AAClE,eAAO3B,SAAS,CAACyB,MAAM,CAACV,KAAP,CAAaa,QAAd,EAAwB,QAAxB,CAAhB;AACD,OAFD,EAEG,YAAY;AACb,eAAO5B,SAAS,CAACyB,MAAM,CAACV,KAAP,CAAac,IAAd,EAAoB,UAApB,CAAhB;AACD,OAJD;AAKD,KARD;;AAUAP,IAAAA,MAAM,CAACQ,gCAAP,GAA0C,SAASA,gCAAT,CAA0CC,SAA1C,EAAqD;AAC7F,UAAIC,OAAO,GAAGvC,UAAU,CAAC,KAAKsB,KAAN,EAAa,KAAKA,KAAL,CAAWY,IAAxB,CAAxB;AACA,UAAIM,OAAO,GAAGxC,UAAU,CAACsC,SAAD,EAAYA,SAAS,CAACJ,IAAtB,CAAxB;;AAEA,UAAIK,OAAO,KAAKC,OAAhB,EAAyB;AACvB;AACA,aAAKlB,KAAL,CAAWK,UAAX,CAAsBc,UAAtB,CAAiCF,OAAjC,EAFuB,CAEoB;;;AAG3C,aAAKjB,KAAL,CAAWK,UAAX,CAAsBM,QAAtB,CAA+BO,OAA/B,EAAwC,YAAxC;AACD;AACF,KAXD;;AAaAX,IAAAA,MAAM,CAACa,oBAAP,GAA8B,SAASA,oBAAT,GAAgC;AAC5D,WAAKpB,KAAL,CAAWK,UAAX,CAAsBc,UAAtB,CAAiC,KAAKP,IAAtC;AACD,KAFD;;AAIAL,IAAAA,MAAM,CAACc,oBAAP,GAA8B,SAASA,oBAAT,GAAgC;AAC5D7C,MAAAA,SAAS,CAAC,KAAKwB,KAAL,CAAWsB,UAAZ,EAAwB,mDAAmD,kDAA3E,CAAT;AACA,aAAO,KAAKnB,GAAL,IAAY,KAAKA,GAAL,CAASoB,OAAT,CAAiBF,oBAAjB,EAAnB;AACD,KAHD;;AAKAd,IAAAA,MAAM,CAACiB,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,aAAOlD,aAAa,CAACuB,mBAAD,EAAsB5B,QAAQ,CAAC,EAAD,EAAK,KAAK+B,KAAV,EAAiB;AACjEY,QAAAA,IAAI,EAAE,KAAKA,IADsD;AAEjET,QAAAA,GAAG,EAAE,KAAKA;AAFuD,OAAjB,CAA9B,CAApB;AAID,KALD;;AAOAjC,IAAAA,YAAY,CAAC4B,UAAD,EAAa,CAAC;AACxBX,MAAAA,GAAG,EAAE,MADmB;AAExBsC,MAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,eAAO/C,UAAU,CAAC,KAAKsB,KAAN,EAAa,KAAKA,KAAL,CAAWY,IAAxB,CAAjB;AACD;AAJuB,KAAD,EAKtB;AACDzB,MAAAA,GAAG,EAAE,OADJ;AAEDsC,MAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,eAAO,CAAC,KAAKtB,GAAN,IAAa,KAAKA,GAAL,CAASoB,OAAT,CAAiBG,KAArC;AACD;AAJA,KALsB,EAUtB;AACDvC,MAAAA,GAAG,EAAE,UADJ;AAEDsC,MAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,eAAO,CAAC,EAAE,KAAKtB,GAAL,IAAY,KAAKA,GAAL,CAASoB,OAAT,CAAiBI,QAA/B,CAAR;AACD;AAJA,KAVsB,EAetB;AACDxC,MAAAA,GAAG,EAAE,OADJ;AAEDsC,MAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,eAAO,KAAKtB,GAAL,GAAW,KAAKA,GAAL,CAASoB,OAAT,CAAiBzC,KAA5B,GAAoC8C,SAA3C;AACD;AAJA,KAfsB,CAAb,CAAZ;;AAsBA,WAAO9B,UAAP;AACD,GAhFD,CAgFEzB,SAhFF,CAFA;;AAoFAyB,EAAAA,UAAU,CAAC+B,SAAX,GAAuB;AACrBjB,IAAAA,IAAI,EAAErC,SAAS,CAACuD,MAAV,CAAiBC,UADF;AAErBC,IAAAA,SAAS,EAAEpD,qBAFU;AAGrBoB,IAAAA,KAAK,EAAEzB,SAAS,CAAC0D,MAHI;AAIrBpB,IAAAA,QAAQ,EAAEtC,SAAS,CAAC2D,SAAV,CAAoB,CAAC3D,SAAS,CAAC4D,IAAX,EAAiB5D,SAAS,CAAC6D,OAAV,CAAkB7D,SAAS,CAAC4D,IAA5B,CAAjB,CAApB,CAJW;AAKrBrB,IAAAA,IAAI,EAAEvC,SAAS,CAAC2D,SAAV,CAAoB,CAAC3D,SAAS,CAAC4D,IAAX,EAAiB5D,SAAS,CAAC6D,OAAV,CAAkB7D,SAAS,CAAC4D,IAA5B,CAAjB,CAApB,CALe;AAMrBb,IAAAA,UAAU,EAAE/C,SAAS,CAAC8D,IAND;AAOrBhC,IAAAA,UAAU,EAAE9B,SAAS,CAAC0D;AAPD,GAAvB;AASA,SAAOtD,aAAa,CAACmB,UAAD,CAApB;AACD","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React, { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'invariant';\nimport createConnectedFieldArray from './ConnectedFieldArray';\nimport prefixName from './util/prefixName';\nimport { withReduxForm } from './ReduxFormContext';\nimport validateComponentProp from './util/validateComponentProp';\n\nvar toArray = function toArray(value) {\n  return Array.isArray(value) ? value : [value];\n};\n\nvar wrapError = function wrapError(fn, key) {\n  return fn && function () {\n    var validators = toArray(fn);\n\n    for (var i = 0; i < validators.length; i++) {\n      var result = validators[i].apply(validators, arguments);\n\n      if (result) {\n        var _ref;\n\n        return _ref = {}, _ref[key] = result, _ref;\n      }\n    }\n  };\n};\n\nexport default function createFieldArray(structure) {\n  var ConnectedFieldArray = createConnectedFieldArray(structure);\n\n  var FieldArray =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(FieldArray, _Component);\n\n    function FieldArray(props) {\n      var _this;\n\n      _this = _Component.call(this, props) || this;\n      _this.ref = React.createRef();\n\n      if (!props._reduxForm) {\n        throw new Error('FieldArray must be inside a component decorated with reduxForm()');\n      }\n\n      return _this;\n    }\n\n    var _proto = FieldArray.prototype;\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this2 = this;\n\n      this.props._reduxForm.register(this.name, 'FieldArray', function () {\n        return wrapError(_this2.props.validate, '_error');\n      }, function () {\n        return wrapError(_this2.props.warn, '_warning');\n      });\n    };\n\n    _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n      var oldName = prefixName(this.props, this.props.name);\n      var newName = prefixName(nextProps, nextProps.name);\n\n      if (oldName !== newName) {\n        // unregister old name\n        this.props._reduxForm.unregister(oldName); // register new name\n\n\n        this.props._reduxForm.register(newName, 'FieldArray');\n      }\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.props._reduxForm.unregister(this.name);\n    };\n\n    _proto.getRenderedComponent = function getRenderedComponent() {\n      invariant(this.props.forwardRef, 'If you want to access getRenderedComponent(), ' + 'you must specify a forwardRef prop to FieldArray');\n      return this.ref && this.ref.current.getRenderedComponent();\n    };\n\n    _proto.render = function render() {\n      return createElement(ConnectedFieldArray, _extends({}, this.props, {\n        name: this.name,\n        ref: this.ref\n      }));\n    };\n\n    _createClass(FieldArray, [{\n      key: \"name\",\n      get: function get() {\n        return prefixName(this.props, this.props.name);\n      }\n    }, {\n      key: \"dirty\",\n      get: function get() {\n        return !this.ref || this.ref.current.dirty;\n      }\n    }, {\n      key: \"pristine\",\n      get: function get() {\n        return !!(this.ref && this.ref.current.pristine);\n      }\n    }, {\n      key: \"value\",\n      get: function get() {\n        return this.ref ? this.ref.current.value : undefined;\n      }\n    }]);\n\n    return FieldArray;\n  }(Component);\n\n  FieldArray.propTypes = {\n    name: PropTypes.string.isRequired,\n    component: validateComponentProp,\n    props: PropTypes.object,\n    validate: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    warn: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    forwardRef: PropTypes.bool,\n    _reduxForm: PropTypes.object\n  };\n  return withReduxForm(FieldArray);\n}"]},"metadata":{},"sourceType":"module"}