{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport createFieldProps from './createFieldProps';\nimport plain from './structure/plain';\nimport onChangeValue from './events/onChangeValue';\nimport validateComponentProp from './util/validateComponentProp';\nvar propsToNotUpdateFor = ['_reduxForm'];\nexport default function createConnectedFields(structure) {\n  var deepEqual = structure.deepEqual,\n      getIn = structure.getIn,\n      size = structure.size;\n\n  var getSyncError = function getSyncError(syncErrors, name) {\n    // Because the error for this field might not be at a level in the error structure where\n    // it can be set directly, it might need to be unwrapped from the _error property\n    return plain.getIn(syncErrors, name + \"._error\") || plain.getIn(syncErrors, name);\n  };\n\n  var getSyncWarning = function getSyncWarning(syncWarnings, name) {\n    var warning = getIn(syncWarnings, name); // Because the warning for this field might not be at a level in the warning structure where\n    // it can be set directly, it might need to be unwrapped from the _warning property\n\n    return warning && warning._warning ? warning._warning : warning;\n  };\n\n  var ConnectedFields = /*#__PURE__*/function (_React$Component) {\n    _inheritsLoose(ConnectedFields, _React$Component);\n\n    function ConnectedFields(props) {\n      var _this;\n\n      _this = _React$Component.call(this, props) || this;\n      _this.onChangeFns = {};\n      _this.onFocusFns = {};\n      _this.onBlurFns = {};\n      _this.ref = React.createRef();\n\n      _this.prepareEventHandlers = function (_ref) {\n        var names = _ref.names;\n        return names.forEach(function (name) {\n          _this.onChangeFns[name] = function (event) {\n            return _this.handleChange(name, event);\n          };\n\n          _this.onFocusFns[name] = function () {\n            return _this.handleFocus(name);\n          };\n\n          _this.onBlurFns[name] = function (event) {\n            return _this.handleBlur(name, event);\n          };\n        });\n      };\n\n      _this.handleChange = function (name, event) {\n        var _this$props = _this.props,\n            dispatch = _this$props.dispatch,\n            parse = _this$props.parse,\n            _reduxForm = _this$props._reduxForm;\n        var value = onChangeValue(event, {\n          name: name,\n          parse: parse\n        });\n        dispatch(_reduxForm.change(name, value)); // call post-change callback\n\n        if (_reduxForm.asyncValidate) {\n          _reduxForm.asyncValidate(name, value, 'change');\n        }\n      };\n\n      _this.handleFocus = function (name) {\n        var _this$props2 = _this.props,\n            dispatch = _this$props2.dispatch,\n            _reduxForm = _this$props2._reduxForm;\n        dispatch(_reduxForm.focus(name));\n      };\n\n      _this.handleBlur = function (name, event) {\n        var _this$props3 = _this.props,\n            dispatch = _this$props3.dispatch,\n            parse = _this$props3.parse,\n            _reduxForm = _this$props3._reduxForm;\n        var value = onChangeValue(event, {\n          name: name,\n          parse: parse\n        }); // dispatch blur action\n\n        dispatch(_reduxForm.blur(name, value)); // call post-blur callback\n\n        if (_reduxForm.asyncValidate) {\n          _reduxForm.asyncValidate(name, value, 'blur');\n        }\n      };\n\n      _this.prepareEventHandlers(props);\n\n      return _this;\n    }\n\n    var _proto = ConnectedFields.prototype;\n\n    _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if (this.props.names !== nextProps.names && (size(this.props.names) !== size(nextProps.names) || nextProps.names.some(function (nextName) {\n        return !_this2.props._fields[nextName];\n      }))) {\n        // names has changed. The cached event handlers need to be updated\n        this.prepareEventHandlers(nextProps);\n      }\n    };\n\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      var _this3 = this;\n\n      var nextPropsKeys = Object.keys(nextProps);\n      var thisPropsKeys = Object.keys(this.props); // if we have children, we MUST update in React 16\n      // https://twitter.com/erikras/status/915866544558788608\n\n      return !!(this.props.children || nextProps.children || nextPropsKeys.length !== thisPropsKeys.length || nextPropsKeys.some(function (prop) {\n        return !~propsToNotUpdateFor.indexOf(prop) && !deepEqual(_this3.props[prop], nextProps[prop]);\n      }));\n    };\n\n    _proto.isDirty = function isDirty() {\n      var _fields = this.props._fields;\n      return Object.keys(_fields).some(function (name) {\n        return _fields[name].dirty;\n      });\n    };\n\n    _proto.getValues = function getValues() {\n      var _fields = this.props._fields;\n      return Object.keys(_fields).reduce(function (accumulator, name) {\n        return plain.setIn(accumulator, name, _fields[name].value);\n      }, {});\n    };\n\n    _proto.getRenderedComponent = function getRenderedComponent() {\n      return this.ref.current;\n    };\n\n    _proto.render = function render() {\n      var _this4 = this;\n\n      var _this$props4 = this.props,\n          component = _this$props4.component,\n          forwardRef = _this$props4.forwardRef,\n          _fields = _this$props4._fields,\n          _reduxForm = _this$props4._reduxForm,\n          rest = _objectWithoutPropertiesLoose(_this$props4, [\"component\", \"forwardRef\", \"_fields\", \"_reduxForm\"]);\n\n      var sectionPrefix = _reduxForm.sectionPrefix,\n          form = _reduxForm.form;\n\n      var _Object$keys$reduce = Object.keys(_fields).reduce(function (accumulator, name) {\n        var connectedProps = _fields[name];\n\n        var _createFieldProps = createFieldProps(structure, name, _extends({}, connectedProps, {}, rest, {\n          form: form,\n          onBlur: _this4.onBlurFns[name],\n          onChange: _this4.onChangeFns[name],\n          onFocus: _this4.onFocusFns[name]\n        })),\n            custom = _createFieldProps.custom,\n            fieldProps = _objectWithoutPropertiesLoose(_createFieldProps, [\"custom\"]);\n\n        accumulator.custom = custom;\n        var fieldName = sectionPrefix ? name.replace(sectionPrefix + \".\", '') : name;\n        return plain.setIn(accumulator, fieldName, fieldProps);\n      }, {}),\n          custom = _Object$keys$reduce.custom,\n          props = _objectWithoutPropertiesLoose(_Object$keys$reduce, [\"custom\"]);\n\n      if (forwardRef) {\n        props.ref = this.ref;\n      }\n\n      return React.createElement(component, _extends({}, props, {}, custom));\n    };\n\n    return ConnectedFields;\n  }(React.Component);\n\n  ConnectedFields.propTypes = {\n    component: validateComponentProp,\n    _fields: PropTypes.object.isRequired,\n    props: PropTypes.object\n  };\n  var connector = connect(function (state, ownProps) {\n    var names = ownProps.names,\n        _ownProps$_reduxForm = ownProps._reduxForm,\n        initialValues = _ownProps$_reduxForm.initialValues,\n        getFormState = _ownProps$_reduxForm.getFormState;\n    var formState = getFormState(state);\n    return {\n      _fields: names.reduce(function (accumulator, name) {\n        var initialState = getIn(formState, \"initial.\" + name);\n        var initial = initialState !== undefined ? initialState : initialValues && getIn(initialValues, name);\n        var value = getIn(formState, \"values.\" + name);\n        var syncError = getSyncError(getIn(formState, 'syncErrors'), name);\n        var syncWarning = getSyncWarning(getIn(formState, 'syncWarnings'), name);\n        var submitting = getIn(formState, 'submitting');\n        var pristine = value === initial;\n        accumulator[name] = {\n          asyncError: getIn(formState, \"asyncErrors.\" + name),\n          asyncValidating: getIn(formState, 'asyncValidating') === name,\n          dirty: !pristine,\n          initial: initial,\n          pristine: pristine,\n          state: getIn(formState, \"fields.\" + name),\n          submitError: getIn(formState, \"submitErrors.\" + name),\n          submitFailed: getIn(formState, 'submitFailed'),\n          submitting: submitting,\n          syncError: syncError,\n          syncWarning: syncWarning,\n          value: value,\n          _value: ownProps.value // save value passed in (for radios)\n\n        };\n        return accumulator;\n      }, {})\n    };\n  }, undefined, undefined, {\n    forwardRef: true\n  });\n  return connector(ConnectedFields);\n}","map":{"version":3,"sources":["C:/Users/gethi/Desktop/React Apps/streams/client/node_modules/redux-form/es/ConnectedFields.js"],"names":["_extends","_objectWithoutPropertiesLoose","_inheritsLoose","React","PropTypes","connect","createFieldProps","plain","onChangeValue","validateComponentProp","propsToNotUpdateFor","createConnectedFields","structure","deepEqual","getIn","size","getSyncError","syncErrors","name","getSyncWarning","syncWarnings","warning","_warning","ConnectedFields","_React$Component","props","_this","call","onChangeFns","onFocusFns","onBlurFns","ref","createRef","prepareEventHandlers","_ref","names","forEach","event","handleChange","handleFocus","handleBlur","_this$props","dispatch","parse","_reduxForm","value","change","asyncValidate","_this$props2","focus","_this$props3","blur","_proto","prototype","UNSAFE_componentWillReceiveProps","nextProps","_this2","some","nextName","_fields","shouldComponentUpdate","_this3","nextPropsKeys","Object","keys","thisPropsKeys","children","length","prop","indexOf","isDirty","dirty","getValues","reduce","accumulator","setIn","getRenderedComponent","current","render","_this4","_this$props4","component","forwardRef","rest","sectionPrefix","form","_Object$keys$reduce","connectedProps","_createFieldProps","onBlur","onChange","onFocus","custom","fieldProps","fieldName","replace","createElement","Component","propTypes","object","isRequired","connector","state","ownProps","_ownProps$_reduxForm","initialValues","getFormState","formState","initialState","initial","undefined","syncError","syncWarning","submitting","pristine","asyncError","asyncValidating","submitError","submitFailed","_value"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport createFieldProps from './createFieldProps';\nimport plain from './structure/plain';\nimport onChangeValue from './events/onChangeValue';\nimport validateComponentProp from './util/validateComponentProp';\nvar propsToNotUpdateFor = ['_reduxForm'];\nexport default function createConnectedFields(structure) {\n  var deepEqual = structure.deepEqual,\n      getIn = structure.getIn,\n      size = structure.size;\n\n  var getSyncError = function getSyncError(syncErrors, name) {\n    // Because the error for this field might not be at a level in the error structure where\n    // it can be set directly, it might need to be unwrapped from the _error property\n    return plain.getIn(syncErrors, name + \"._error\") || plain.getIn(syncErrors, name);\n  };\n\n  var getSyncWarning = function getSyncWarning(syncWarnings, name) {\n    var warning = getIn(syncWarnings, name); // Because the warning for this field might not be at a level in the warning structure where\n    // it can be set directly, it might need to be unwrapped from the _warning property\n\n    return warning && warning._warning ? warning._warning : warning;\n  };\n\n  var ConnectedFields =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inheritsLoose(ConnectedFields, _React$Component);\n\n    function ConnectedFields(props) {\n      var _this;\n\n      _this = _React$Component.call(this, props) || this;\n      _this.onChangeFns = {};\n      _this.onFocusFns = {};\n      _this.onBlurFns = {};\n      _this.ref = React.createRef();\n\n      _this.prepareEventHandlers = function (_ref) {\n        var names = _ref.names;\n        return names.forEach(function (name) {\n          _this.onChangeFns[name] = function (event) {\n            return _this.handleChange(name, event);\n          };\n\n          _this.onFocusFns[name] = function () {\n            return _this.handleFocus(name);\n          };\n\n          _this.onBlurFns[name] = function (event) {\n            return _this.handleBlur(name, event);\n          };\n        });\n      };\n\n      _this.handleChange = function (name, event) {\n        var _this$props = _this.props,\n            dispatch = _this$props.dispatch,\n            parse = _this$props.parse,\n            _reduxForm = _this$props._reduxForm;\n        var value = onChangeValue(event, {\n          name: name,\n          parse: parse\n        });\n        dispatch(_reduxForm.change(name, value)); // call post-change callback\n\n        if (_reduxForm.asyncValidate) {\n          _reduxForm.asyncValidate(name, value, 'change');\n        }\n      };\n\n      _this.handleFocus = function (name) {\n        var _this$props2 = _this.props,\n            dispatch = _this$props2.dispatch,\n            _reduxForm = _this$props2._reduxForm;\n        dispatch(_reduxForm.focus(name));\n      };\n\n      _this.handleBlur = function (name, event) {\n        var _this$props3 = _this.props,\n            dispatch = _this$props3.dispatch,\n            parse = _this$props3.parse,\n            _reduxForm = _this$props3._reduxForm;\n        var value = onChangeValue(event, {\n          name: name,\n          parse: parse\n        }); // dispatch blur action\n\n        dispatch(_reduxForm.blur(name, value)); // call post-blur callback\n\n        if (_reduxForm.asyncValidate) {\n          _reduxForm.asyncValidate(name, value, 'blur');\n        }\n      };\n\n      _this.prepareEventHandlers(props);\n\n      return _this;\n    }\n\n    var _proto = ConnectedFields.prototype;\n\n    _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if (this.props.names !== nextProps.names && (size(this.props.names) !== size(nextProps.names) || nextProps.names.some(function (nextName) {\n        return !_this2.props._fields[nextName];\n      }))) {\n        // names has changed. The cached event handlers need to be updated\n        this.prepareEventHandlers(nextProps);\n      }\n    };\n\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      var _this3 = this;\n\n      var nextPropsKeys = Object.keys(nextProps);\n      var thisPropsKeys = Object.keys(this.props); // if we have children, we MUST update in React 16\n      // https://twitter.com/erikras/status/915866544558788608\n\n      return !!(this.props.children || nextProps.children || nextPropsKeys.length !== thisPropsKeys.length || nextPropsKeys.some(function (prop) {\n        return !~propsToNotUpdateFor.indexOf(prop) && !deepEqual(_this3.props[prop], nextProps[prop]);\n      }));\n    };\n\n    _proto.isDirty = function isDirty() {\n      var _fields = this.props._fields;\n      return Object.keys(_fields).some(function (name) {\n        return _fields[name].dirty;\n      });\n    };\n\n    _proto.getValues = function getValues() {\n      var _fields = this.props._fields;\n      return Object.keys(_fields).reduce(function (accumulator, name) {\n        return plain.setIn(accumulator, name, _fields[name].value);\n      }, {});\n    };\n\n    _proto.getRenderedComponent = function getRenderedComponent() {\n      return this.ref.current;\n    };\n\n    _proto.render = function render() {\n      var _this4 = this;\n\n      var _this$props4 = this.props,\n          component = _this$props4.component,\n          forwardRef = _this$props4.forwardRef,\n          _fields = _this$props4._fields,\n          _reduxForm = _this$props4._reduxForm,\n          rest = _objectWithoutPropertiesLoose(_this$props4, [\"component\", \"forwardRef\", \"_fields\", \"_reduxForm\"]);\n\n      var sectionPrefix = _reduxForm.sectionPrefix,\n          form = _reduxForm.form;\n\n      var _Object$keys$reduce = Object.keys(_fields).reduce(function (accumulator, name) {\n        var connectedProps = _fields[name];\n\n        var _createFieldProps = createFieldProps(structure, name, _extends({}, connectedProps, {}, rest, {\n          form: form,\n          onBlur: _this4.onBlurFns[name],\n          onChange: _this4.onChangeFns[name],\n          onFocus: _this4.onFocusFns[name]\n        })),\n            custom = _createFieldProps.custom,\n            fieldProps = _objectWithoutPropertiesLoose(_createFieldProps, [\"custom\"]);\n\n        accumulator.custom = custom;\n        var fieldName = sectionPrefix ? name.replace(sectionPrefix + \".\", '') : name;\n        return plain.setIn(accumulator, fieldName, fieldProps);\n      }, {}),\n          custom = _Object$keys$reduce.custom,\n          props = _objectWithoutPropertiesLoose(_Object$keys$reduce, [\"custom\"]);\n\n      if (forwardRef) {\n        props.ref = this.ref;\n      }\n\n      return React.createElement(component, _extends({}, props, {}, custom));\n    };\n\n    return ConnectedFields;\n  }(React.Component);\n\n  ConnectedFields.propTypes = {\n    component: validateComponentProp,\n    _fields: PropTypes.object.isRequired,\n    props: PropTypes.object\n  };\n  var connector = connect(function (state, ownProps) {\n    var names = ownProps.names,\n        _ownProps$_reduxForm = ownProps._reduxForm,\n        initialValues = _ownProps$_reduxForm.initialValues,\n        getFormState = _ownProps$_reduxForm.getFormState;\n    var formState = getFormState(state);\n    return {\n      _fields: names.reduce(function (accumulator, name) {\n        var initialState = getIn(formState, \"initial.\" + name);\n        var initial = initialState !== undefined ? initialState : initialValues && getIn(initialValues, name);\n        var value = getIn(formState, \"values.\" + name);\n        var syncError = getSyncError(getIn(formState, 'syncErrors'), name);\n        var syncWarning = getSyncWarning(getIn(formState, 'syncWarnings'), name);\n        var submitting = getIn(formState, 'submitting');\n        var pristine = value === initial;\n        accumulator[name] = {\n          asyncError: getIn(formState, \"asyncErrors.\" + name),\n          asyncValidating: getIn(formState, 'asyncValidating') === name,\n          dirty: !pristine,\n          initial: initial,\n          pristine: pristine,\n          state: getIn(formState, \"fields.\" + name),\n          submitError: getIn(formState, \"submitErrors.\" + name),\n          submitFailed: getIn(formState, 'submitFailed'),\n          submitting: submitting,\n          syncError: syncError,\n          syncWarning: syncWarning,\n          value: value,\n          _value: ownProps.value // save value passed in (for radios)\n\n        };\n        return accumulator;\n      }, {})\n    };\n  }, undefined, undefined, {\n    forwardRef: true\n  });\n  return connector(ConnectedFields);\n}"]},"metadata":{},"sourceType":"module"}